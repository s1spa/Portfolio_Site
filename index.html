<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ü–ª–ª—è –ê–≤–¥–æ—Å—å—î–≤ - –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body data-theme="dark">
    <header>
        <nav>
            <a href="index.html" class="logo">IA</a>
            <ul class="nav-links">
                <li><a href="index.html" class="active" data-i18n="nav.home">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                <li><a href="projects.html" data-i18n="nav.projects">–ü—Ä–æ—î–∫—Ç–∏</a></li>
                <li><a href="about.html" data-i18n="nav.about">–ü—Ä–æ –º–µ–Ω–µ</a></li>
            </ul>
            <div class="controls">
                <button class="theme-toggle" id="theme-toggle">
                    <span id="theme-icon">üåû</span>
                </button>
                <select class="lang-switch" id="lang-switch">
                    <option value="uk">üá∫üá¶ UA</option>
                    <option value="en" selected>üá¨üáß EN</option>
                    <option value="pl">üáµüá± PL</option>
                    <option value="de">üá©üá™ DE</option>
                </select>
            </div>
        </nav>
    </header>
    <main>
        <section class="hero">
            <div class="hero-content">
                <div class="hero-label" data-i18n="hero.label">–ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ</div>
                <h1>
                    <span data-i18n="hero.greeting">–ü—Ä–∏–≤—ñ—Ç! –Ø,</span>
                    <span class="name" id="profile-name">–Ü–ª–ª—è –ê–≤–¥–æ—Å—å—î–≤</span>
                    <span data-i18n="hero.role">‚Äî —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —ñ–≥–æ—Ä —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.</span>
                </h1>
                <p data-i18n="hero.subtitle">–ü–∏—à—É –Ω–∞ C# / .NET, –ø—Ä–∞—Ü—é—é –∑ Unity, –ª—é–±–ª—é —á–∏—Å—Ç–∏–π –∫–æ–¥ —ñ –º—ñ–Ω—ñ–º–∞–ª—ñ–∑–º. –¢—É—Ç –∑—ñ–±—Ä–∞–≤ –∫—ñ–ª—å–∫–∞ —Ä–æ–±—ñ—Ç, —è–∫—ñ –º–æ–∂—É –ø–æ–∫–∞–∑–∞—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ.</p>
                <div class="hero-buttons">
                    <a href="projects.html" class="btn btn-primary"><span data-i18n="hero.viewProjects">–î–∏–≤–∏—Ç–∏—Å—å –ø—Ä–æ—î–∫—Ç–∏</span></a>
                    <a href="about.html" class="btn btn-secondary"><span data-i18n="hero.aboutMe">–ü—Ä–æ –º–µ–Ω–µ</span></a>
                </div>
            </div>
        </section>
        <section class="featured-preview">
            <div class="container">
                <h2 class="section-title" data-i18n="featured.title">–û–±—Ä–∞–Ω—ñ –ø—Ä–æ—î–∫—Ç–∏</h2>
                <p class="section-subtitle" data-i18n="featured.subtitle">–ù–∞–π—Ü—ñ–∫–∞–≤—ñ—à—ñ —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–≥–æ –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ</p>
                <div class="projects-grid" id="featured-projects">
                    <div class="loading" data-i18n="projectsPage.loading">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—ñ–≤...</div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 <span id="footer-name">–Ü–ª–ª—è –ê–≤–¥–æ—Å—å—î–≤</span>. <span data-i18n="footer.rights">–£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ.</span></p>
    </footer>   

    <!-- JavaScript -->
    <script src="js/i18n.js"></script>
    <script src="js/theme.js"></script>
    <script>
        // Default data —è–∫—â–æ JSON –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è
        const DEFAULT_PROJECTS = {
            projects: [{
                id: 1,
                featured: true,
                title: { uk: "–°–∫–æ—Ä–æ –∑'—è–≤–ª—è—Ç—å—Å—è –ø—Ä–æ—î–∫—Ç–∏", en: "Projects coming soon" },
                description: { uk: "–ö–æ–Ω—Ç–µ–Ω—Ç –¥–æ–¥–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å", en: "Content is being added" },
                technologies: ["Coming soon"],
                emoji: "‚è≥"
            }]
        };

        const DEFAULT_PROFILE = {
            profile: {
                name: { uk: "–Ü–ª–ª—è –ê–≤–¥–æ—Å—å—î–≤", en: "Illia Avdosiev" }
            }
        };

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è featured –ø—Ä–æ—î–∫—Ç—ñ–≤
        async function loadFeaturedProjects() {
            const container = document.getElementById('featured-projects');
            const currentLang = getCurrentLanguage();

            try {
                const response = await fetch('data/projects.json');
                const projectsData = response.ok ? await response.json() : DEFAULT_PROJECTS;

                if (!projectsData || !projectsData.projects || projectsData.projects.length === 0) {
                    container.innerHTML = `
                        <div class="no-projects">
                            <p>${t('projectsPage.noProjects')}</p>
                            <p>${t('projectsPage.noProjectsText')}</p>
                        </div>
                    `;
                    return;
                }

                const featuredProjects = projectsData.projects.filter(p => p.featured).slice(0, 3);

                if (featuredProjects.length === 0) {
                    container.innerHTML = `
                        <div class="no-projects">
                            <p>–û–±—Ä–∞–Ω—ñ –ø—Ä–æ—î–∫—Ç–∏ —Å–∫–æ—Ä–æ –∑'—è–≤–ª—è—Ç—å—Å—è</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = featuredProjects.map(project => `
                    <div class="project-card" data-project-id="${project.id}" style="cursor: pointer;">
                        <div class="project-image">
                            ${project.mainImage ? 
                                `<img src="${project.mainImage}" alt="${project.title[currentLang] || project.title.uk}" loading="lazy">` : 
                                `<div class="project-image-placeholder">${project.emoji || 'üìÅ'}</div>`
                            }
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">${project.title[currentLang] || project.title.uk}</h3>
                            <p class="project-description">${project.shortDescription ? (project.shortDescription[currentLang] || project.shortDescription.uk) : ''}</p>
                            <div class="project-tags">
                                ${project.technologies.map(tech => `<span class="tag">${tech}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                `).join('');

                // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –ø—ñ—Å–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
                document.querySelectorAll('.project-card').forEach(card => {
                    card.addEventListener('click', () => {
                        window.location.href = `project-details.html?id=${card.dataset.projectId}`;
                    });
                });
            } catch (error) {
                container.innerHTML = `
                    <div class="no-projects">
                        <p>–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—ñ–≤</p>
                        <p>–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ —Ñ–∞–π–ª <code>data/projects.json</code> —ñ—Å–Ω—É—î</p>
                    </div>
                `;
            }
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ–º–µ–Ω—ñ –ø—Ä–æ—Ñ—ñ–ª—é
        async function loadProfileName() {
            try {
                const response = await fetch('data/about.json');
                const aboutData = response.ok ? await response.json() : DEFAULT_PROFILE;

                if (aboutData && aboutData.profile) {
                    const currentLang = getCurrentLanguage();
                    const name = aboutData.profile.name[currentLang] || aboutData.profile.name.uk;
                    document.getElementById('profile-name').textContent = name;
                    document.getElementById('footer-name').textContent = name;
                }
            } catch (error) {
                // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ default —è–∫—â–æ –ø–æ–º–∏–ª–∫–∞
            }
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.addEventListener('DOMContentLoaded', () => {
            loadFeaturedProjects();
            loadProfileName();

            // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—ñ–≤
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
            document.getElementById('lang-switch').addEventListener('change', (e) => changeLanguage(e.target.value));
        });
    </script>
</body>
</html>
